{"version":3,"sources":["components/Setup.tsx","firebase.js","components/PlayerScore.tsx","App.tsx","index.tsx"],"names":["Setup","startSet","playersSet","playersCountSet","playersCount","players","Text","Container","Button","onClick","prev","range","map","el","i","Input","type","placeholder","maxLength","onChange","e","prevArr","Object","assign","target","value","length","includes","styled","button","div","input","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","firestore","PlayerScore","player","index","useState","scores","scoresSet","score","scoreSet","rawDataFromDb","rawDataFromDbSet","sum","reduce","a","b","useEffect","getData","collection","get","then","querySnapshot","tempDoc","docs","doc","id","data","res","forEach","element","ref","delete","add","catch","error","console","Scores","FlexRow","Score","SmallButton","filter","deleteScore","SubmitContainer","onSubmit","preventDefault","oldArray","Number","MediumButton","ul","form","section","App","start","Row","_uniqueId","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sOAkDeA,EAvCU,SAAC,GAMnB,IALLC,EAKI,EALJA,SACAC,EAII,EAJJA,WACAC,EAGI,EAHJA,gBACAC,EAEI,EAFJA,aACAC,EACI,EADJA,QAEA,OACE,qCACE,cAACC,EAAD,0BACA,eAACC,EAAD,WACGH,EAAe,EACd,cAACI,EAAD,CAAQC,QAAS,kBAAMN,GAAgB,SAACO,GAAD,OAAUA,EAAO,MAAxD,eACE,KACJ,cAACJ,EAAD,UAAOF,IACP,cAACI,EAAD,CAAQC,QAAS,kBAAMN,GAAgB,SAACO,GAAD,OAAUA,EAAO,MAAxD,kBAEDC,IAAMP,GAAcQ,KAAI,SAACC,EAAIC,GAC5B,OACE,cAACC,EAAD,CAEEC,KAAK,OACLC,YAAY,mBACZC,UAAW,EACXC,SAAU,SAACC,GAAD,OACRlB,GAAW,SAACmB,GACV,OAAOC,OAAOC,OAAO,GAAIF,EAAlBC,OAAA,IAAAA,CAAA,GAA8BT,EAAKO,EAAEI,OAAOC,aANlDX,MAYVT,EAAQqB,OAAS,IAAMrB,EAAQsB,SAAS,IACvC,cAACnB,EAAD,CAAQC,QAAS,kBAAMR,GAAS,IAAhC,iCACE,SAMGO,EAASoB,IAAOC,OAAV,iZAgBNvB,EAAOsB,IAAOE,IAAV,8GAMXvB,EAAYqB,IAAOE,IAAV,yFAKFf,EAAQa,IAAOG,MAAV,qM,kEClElBC,IAASC,cAVc,CACrBC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,kDACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,8CAIT,I,oBAEeC,EAFNT,IAASU,YCmFHC,EArFgB,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,OAAQxC,EAA0B,EAA1BA,aAAcyC,EAAY,EAAZA,MACtD,EAA4BC,mBAAmB,IAA/C,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA0BF,mBAAS,GAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAA0CJ,mBAAc,IAAxD,mBAAOK,EAAP,KAAsBC,EAAtB,KAOMC,EAAMN,EAAOO,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,IAAG,GAI3CC,qBAAU,WAAO,IAAD,GACG,OAAbN,QAAa,IAAbA,GAAA,UAAAA,EAAeJ,cAAf,eAAuBrB,QAAS,GAAGsB,EAAUG,EAAcJ,UAC9D,CAACI,IACJ,IAmBMO,EAAO,uCAAG,sBAAAH,EAAA,sEACOvB,IAASU,YAAYiB,WAAWf,GADvC,cAEPgB,MAAMC,MAAK,SAACC,GACjB,IAAMC,EAAUD,EAAcE,KAAKpD,KAAI,SAACqD,GACtC,OAAO,aAAEC,GAAID,EAAIC,IAAOD,EAAIE,WAE9Bf,EAAiBW,EAAQ,OANb,2CAAH,qDAeb,OANAN,qBAAU,WACJV,EAAOrB,QA5BXe,EAAGkB,WAAWf,GACXgB,MACAC,MAAK,SAACO,GACLA,EAAIC,SAAQ,SAACC,GACXA,EAAQC,IAAIC,eAGfX,MAAK,WACJpB,EAAGkB,WAAWf,GACX6B,IAAI,CACH1B,OAAQA,IAET2B,OAAM,SAACC,GACNC,QAAQD,MAAM,0BAA2BA,WAkBhD,CAAC/B,EAAQG,IAGV,eAAC,EAAD,WACE,cAACzC,EAAD,UACE,8BACGsC,EACAG,EAAOrB,OAAStB,IAAiByC,EAAQ,IAAM,UAGpD,cAACgC,EAAD,UACG9B,EAAOnC,KAAI,SAACC,EAAIC,GACf,OACE,eAACgE,EAAD,CAAS1E,aAAcA,EAAvB,UACE,cAAC2E,EAAD,UAAQlE,IACR,cAACmE,EAAD,CAAavE,QAAS,kBArDd,SAACK,GACnBkC,GAAU,SAACtC,GAAD,OAAUA,EAAKuE,QAAO,SAACpE,EAAIgC,GAAL,OAAe/B,IAAM+B,QAoDfqC,CAAYpE,IAAxC,+BAKR,cAACR,EAAD,UACE,uCAAU+C,OAEZ,eAAC8B,EAAD,CAAiBC,SApEA,SAAChE,GACpBA,EAAEiE,iBACFrC,GAAU,SAACsC,GAAD,4BAAkBA,GAAlB,CAA4BrC,OACtCC,EAAS,IAiEP,UACE,cAAC,EAAD,CACElC,KAAK,SACLG,SAAU,SAACC,GAAD,OAAO8B,EAASqC,OAAOnE,EAAEI,OAAOC,SAC1CA,MAAOwB,IAET,cAAC+B,EAAD,CAAahE,KAAK,SAAlB,kBAEF,cAACwE,EAAD,CAAc/E,QAASiD,EAAvB,yBAMA3C,EAAQa,IAAOG,MAAV,+QAWL8C,EAASjD,IAAO6D,GAAV,uGAMNX,EAAUlD,IAAOE,IAAV,wIAOPiD,EAAQnD,IAAOE,IAAV,sEAILkD,EAAcpD,IAAOC,OAAV,wXAeX2D,EAAe5D,IAAOC,OAAV,6YAgBZsD,EAAkBvD,IAAO8D,KAAV,0FAMfnF,EAAYqB,IAAO+D,QAAV,mHCvHAC,MArCf,WACE,MAA0B9C,oBAAS,GAAnC,mBAAO+C,EAAP,KAAc5F,EAAd,KACA,EAA8B6C,mBAAmB,IAAjD,mBAAOzC,EAAP,KAAgBH,EAAhB,KACA,EAAwC4C,mBAAS,GAAjD,mBAAO1C,EAAP,KAAqBD,EAArB,KAEA,OACE,eAAC,EAAD,YACI0F,GACA,cAAC,EAAD,CACE5F,SAAUA,EACVC,WAAYA,EACZG,QAASA,EACTF,gBAAiBA,EACjBC,aAAcA,IAGjByF,GACC,cAACC,EAAD,UACGzF,EAAQO,KAAI,SAACgC,EAAQC,GACpB,IAAMqB,EAAK6B,IAAU,WAErB,OACE,8BACE,cAAC,EAAD,CACEnD,OAAQA,EACRxC,aAAcC,EAAQqB,OACtBmB,MAAOA,KAJDqB,YAiBlB3D,EAAYqB,IAAOE,IAAV,kJAOTgE,EAAMlE,IAAOE,IAAV,0EC/CTkE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.bf0f0bd9.chunk.js","sourcesContent":["import React, { FC, useRef, useState } from 'react';\nimport range from 'lodash/range';\nimport styled from 'styled-components';\n\ntype Props = {\n  startSet: React.Dispatch<React.SetStateAction<boolean>>;\n  playersSet: React.Dispatch<React.SetStateAction<string[]>>;\n  playersCountSet: React.Dispatch<React.SetStateAction<number>>;\n  playersCount: number;\n  players: string[];\n};\nconst Setup: FC<Props> = ({\n  startSet,\n  playersSet,\n  playersCountSet,\n  playersCount,\n  players,\n}) => {\n  return (\n    <>\n      <Text>Ile graczy?</Text>\n      <Container>\n        {playersCount > 0 ? (\n          <Button onClick={() => playersCountSet((prev) => prev - 1)}>-</Button>\n        ) : null}\n        <Text>{playersCount}</Text>\n        <Button onClick={() => playersCountSet((prev) => prev + 1)}>+</Button>\n      </Container>\n      {range(playersCount).map((el, i) => {\n        return (\n          <Input\n            key={i}\n            type='text'\n            placeholder='Imię gracza'\n            maxLength={6}\n            onChange={(e) =>\n              playersSet((prevArr) => {\n                return Object.assign([], prevArr, { [el]: e.target.value });\n              })\n            }\n          />\n        );\n      })}\n      {players.length > 1 && !players.includes('') ? (\n        <Button onClick={() => startSet(true)}>Rozpocznij grę</Button>\n      ) : null}\n    </>\n  );\n};\n\nexport default Setup;\nexport const Button = styled.button`\n  border: none;\n  outline: none;\n  font-size: 14px;\n  line-height: 20px;\n  text-align: center;\n  cursor: pointer;\n  color: rgb(74, 74, 74);\n  font-weight: 400;\n  box-shadow: rgb(55 71 79 / 20%) 0px 0px 2px, rgb(0 0 0 / 10%) 0px 8px 12px;\n  max-width: 200px;\n  background-color: rgb(255, 255, 255);\n  border-radius: 4px;\n  padding: 14px 16px;\n  margin: 0 4px;\n`;\nexport const Text = styled.div`\n  font-size: 18px;\n  margin: 0 4px;\n  white-space: pre;\n  text-align: center;\n`;\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n`;\nexport const Input = styled.input`\n  margin: 8px 0;\n  border: none;\n  outline: none;\n  box-shadow: rgb(55 71 79 / 20%) 0px 0px 2px, rgb(0 0 0 / 10%) 0px 8px 12px;\n  font-size: 20px;\n  padding: 4px;\n`;\n","import firebase from 'firebase';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyC5jxlkE4AV9Q6WmLcSePMTIMCKk_7iKJo',\n  authDomain: 'remik-31cc1.firebaseapp.com',\n  databaseURL: 'https://remik-31cc1-default-rtdb.firebaseio.com',\n  projectId: 'remik-31cc1',\n  storageBucket: 'remik-31cc1.appspot.com',\n  messagingSenderId: '343019896839',\n  appId: '1:343019896839:web:20f553f76586610a0eaaa2',\n};\n\nfirebase.initializeApp(firebaseConfig);\nvar db = firebase.firestore();\n\nexport default db;\n","import React, { FC, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Text } from './Setup';\nimport db from '../firebase';\nimport firebase from 'firebase';\n\ntype Props = {\n  player: string;\n  playersCount: number;\n  index: number;\n};\nconst PlayerScore: FC<Props> = ({ player, playersCount, index }) => {\n  const [scores, scoresSet] = useState<number[]>([]);\n  const [score, scoreSet] = useState(0);\n  const [rawDataFromDb, rawDataFromDbSet] = useState<any>([]);\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    scoresSet((oldArray) => [...oldArray, score]);\n    scoreSet(0);\n  };\n\n  const sum = scores.reduce((a, b) => a + b, 0);\n  const deleteScore = (i: number) => {\n    scoresSet((prev) => prev.filter((el, index) => i !== index));\n  };\n  useEffect(() => {\n    if (rawDataFromDb?.scores?.length > 0) scoresSet(rawDataFromDb.scores);\n  }, [rawDataFromDb]);\n  const updateDb = () => {\n    db.collection(player)\n      .get()\n      .then((res) => {\n        res.forEach((element) => {\n          element.ref.delete();\n        });\n      })\n      .then(() => {\n        db.collection(player)\n          .add({\n            scores: scores,\n          })\n          .catch((error) => {\n            console.error('Error adding document: ', error);\n          });\n      });\n  };\n\n  const getData = async () => {\n    const events = await firebase.firestore().collection(player);\n    events.get().then((querySnapshot) => {\n      const tempDoc = querySnapshot.docs.map((doc) => {\n        return { id: doc.id, ...doc.data() };\n      });\n      rawDataFromDbSet(tempDoc[0]);\n    });\n  };\n  useEffect(() => {\n    if (scores.length) {\n      updateDb();\n    }\n  }, [player, scores]);\n\n  return (\n    <Container>\n      <Text>\n        <b>\n          {player}\n          {scores.length % playersCount === index ? '*' : null}\n        </b>\n      </Text>\n      <Scores>\n        {scores.map((el, i) => {\n          return (\n            <FlexRow playersCount={playersCount}>\n              <Score>{el}</Score>\n              <SmallButton onClick={() => deleteScore(i)}>Usuń</SmallButton>\n            </FlexRow>\n          );\n        })}\n      </Scores>\n      <Text>\n        <b>Suma: {sum}</b>\n      </Text>\n      <SubmitContainer onSubmit={handleSubmit}>\n        <Input\n          type='number'\n          onChange={(e) => scoreSet(Number(e.target.value))}\n          value={score}\n        />\n        <SmallButton type='submit'>+</SmallButton>\n      </SubmitContainer>\n      <MediumButton onClick={getData}>Pobierz</MediumButton>\n    </Container>\n  );\n};\n\nexport default PlayerScore;\nconst Input = styled.input`\n  max-width: 38px;\n  border: none;\n  outline: none;\n  box-shadow: rgb(55 71 79 / 20%) 0px 0px 2px, rgb(0 0 0 / 10%) 0px 8px 12px;\n  font-size: 20px;\n  margin-right: 8px;\n  border-radius: 4px;\n  text-align: center;\n  padding: 7px 2px;\n`;\nconst Scores = styled.ul`\n  margin: 4px 0;\n  max-height: 77vh;\n  overflow: scroll;\n  padding: 0;\n`;\nconst FlexRow = styled.div<{ playersCount: number }>`\n  display: flex;\n  align-items: center;\n  margin: 4px 0;\n  justify-content: center;\n  padding: 0 12px;\n`;\nconst Score = styled.div`\n  margin-right: 4px;\n  font-size: 20px;\n`;\nconst SmallButton = styled.button`\n  border: none;\n  outline: none;\n  font-size: 16px;\n  line-height: 1.3;\n  text-align: center;\n  cursor: pointer;\n  color: rgb(74, 74, 74);\n  font-weight: 400;\n  box-shadow: rgb(55 71 79 / 20%) 0px 0px 2px, rgb(0 0 0 / 10%) 0px 8px 12px;\n  max-width: 200px;\n  background-color: rgb(255, 255, 255);\n  border-radius: 4px;\n  padding: 8px;\n`;\nconst MediumButton = styled.button`\n  border: none;\n  outline: none;\n  font-size: 16px;\n  line-height: 1.3;\n  text-align: center;\n  cursor: pointer;\n  color: rgb(74, 74, 74);\n  font-weight: 400;\n  box-shadow: rgb(55 71 79 / 20%) 0px 0px 2px, rgb(0 0 0 / 10%) 0px 8px 12px;\n  max-width: 200px;\n  background-color: rgb(255, 255, 255);\n  border-radius: 4px;\n  padding: 8px;\n  margin-top: 20px;\n`;\nconst SubmitContainer = styled.form`\n  display: flex;\n  align-items: center;\n  margin-top: 8px;\n`;\n\nconst Container = styled.section`\n  margin: 0 4px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n","import { useState } from 'react';\nimport styled from 'styled-components';\nimport Setup from './components/Setup';\nimport _uniqueId from 'lodash/uniqueId';\nimport PlayerScore from './components/PlayerScore';\n\nfunction App() {\n  const [start, startSet] = useState(false);\n  const [players, playersSet] = useState<string[]>([]);\n  const [playersCount, playersCountSet] = useState(0);\n\n  return (\n    <Container>\n      {!start && (\n        <Setup\n          startSet={startSet}\n          playersSet={playersSet}\n          players={players}\n          playersCountSet={playersCountSet}\n          playersCount={playersCount}\n        />\n      )}\n      {start && (\n        <Row>\n          {players.map((player, index) => {\n            const id = _uniqueId('prefix-');\n\n            return (\n              <div key={id}>\n                <PlayerScore\n                  player={player}\n                  playersCount={players.length}\n                  index={index}\n                />\n              </div>\n            );\n          })}\n        </Row>\n      )}\n    </Container>\n  );\n}\n\nexport default App;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 16px;\n`;\nconst Row = styled.div`\n  display: flex;\n  align-items: flex-start;\n`;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}